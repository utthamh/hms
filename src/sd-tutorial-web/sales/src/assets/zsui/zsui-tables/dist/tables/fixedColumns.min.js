var zs=function(e){"use strict";return e.tableFixedColumns={fixedColumnCount:0,scrollEl:null,matchScroll:function(e,t){e._scrollTop&&e._scrollTop==t.scrollTop||(e._scrollTop=t.scrollTop,e.scrollTop=t.scrollTop)},decorateFixedHeaders:function(e){e.setAttribute("locked",!0)},resizeFixed:function(e){if(this.table&&e){var t=this.fixedTable||e.firstElementChild;if(t)for(var i=this.table.querySelectorAll("tr"),n=t.querySelectorAll("tr"),l=0;l<i.length;l++){i[l].firstElementChild,n[l].firstElementChild;var d=i[l].offsetHeight-n[l].offsetHeight,a=i[l].clientHeight;0<d?a=n[l].clientHeight+d:d<0&&(a=i[l].clientHeight-d),i[l].style.minHeight=a+"px",n[l].style.minHeight=a+"px",i[l].style.maxHeight=a+"px",n[l].style.maxHeight=a+"px",i[l].style.height=a+"px",n[l].style.height=a+"px"}}},scrollFix:function(e){},renderHeadRow:function(e){var t,i=this.headData||this.data[0];if((t=document.createElement("tr")).setAttribute("key",-1),Array.isArray(i))for(var n=0;n<i.length;n++){var l=this.renderHead(-1,n,i[n]);this.fixedColumnCount>n?e.appendChild(l):t.appendChild(l)}else{var d=-1;for(var n in i){d++;l=this.renderHead(-1,n,n);this.fixedColumnCount>d?e.appendChild(l):t.appendChild(l)}}return t},renderRow:function(e,t,i,n){if(null==t)return i=null;if((n=n||document.createElement("tr")).setAttribute("key",e),Array.isArray(t))for(var l=0;l<t.length;l++){var d=this.renderCell(e,l,t[l]);this.fixedColumnCount>l?i.appendChild(d):n.appendChild(d)}else{var a=-1;for(var l in t){a++;d=this.renderCell(e,l,t[l]);this.fixedColumnCount>a?i.appendChild(d):n.appendChild(d)}}return n},renderTable:function(e,t){var i,n,l,d=this;if("function"==typeof d.loadingSet&&d.loadingSet(!0,d),this.tableContainer||(this.tableContainer=document.createElement("div"),this.appendChild(this.tableContainer)),n=this.tableContainer,d.scrollEl=n,this.clearTable(),this.table||(this.table=this.querySelector("table")||document.createElement("table"),this.table.classList.add("zs-data-table"),this.table.style.tableLayout="fixed"),this.thead||(this.thead=this.table.querySelector("thead")||document.createElement("thead"),this.table.appendChild(this.thead)),this.tbody||(this.tbody=this.table.querySelector("tbody")||document.createElement("tbody"),this.table.appendChild(this.tbody)),this.fixedColumnCount){this.fixedContainer?this.fixedContainer.innerHTML="":(this.fixedContainer=this.querySelector(".zs-fixed"),this.fixedContainer||(this.fixedContainer=document.createElement("div"),this.appendChild(this.fixedContainer))),this.fixedTable?this.fixedTable.innerHTML="":(this.fixedTable=document.createElement("table"),this.fixedTable.setAttribute("class",this.table.getAttribute("class")),this.fixedTable.style.tableLayout="fixed",this.fixedContainer.appendChild(this.fixedTable)),this.fixedTableHead=document.createElement("thead"),this.fixedTableBody=document.createElement("tbody"),this.fixedContainer.setAttribute("class","zs-fixed"),this.fixedContainer.style.position="absolute",this.considerPosition("relative"),this.fixedContainer.style.bottom="0px",this.fixedContainer.style.left="0px",this.fixedContainer.style.overflowY="hidden";var a=!(this.fixedContainer.style.top="0px");d.scrollEl.addEventListener("scroll",function(e){a||(a=!0,window.requestAnimationFrame(function(){a=!1,d.matchScroll(d.fixedContainer,d.scrollEl)}))}),this.scrollFix(d.scrollEl),this.addEventListener("resize",function(){d.resizeFixed(d.fixedContainer,d.scrollEl)})}if(this.fixedColumnCount){var r=document.createElement("tr");this.thead.appendChild(this.renderHeadRow(r)),this.fixedTableHead.appendChild(r)}else this.thead.appendChild(this.renderHeadRow());for(i=0;i<e.length;i++)this.fixedColumnCount&&(r=document.createElement("tr"),l=this.renderRow(i,e[i],r)),l&&this.tbody.appendChild(l),r&&this.fixedTableBody.appendChild(r);n.appendChild(this.table),this.fixedColumnCount&&(this.fixedTable.appendChild(this.fixedTableHead),this.fixedTable.appendChild(this.fixedTableBody)),this.dispatchEvent(new CustomEvent("render"))},events:{render:function(){var e=this;e.fixedColumnCount&&(e.resizeFixed(e.fixedContainer,e.scrollEl),e.matchScroll(e.fixedContainer,e.scrollEl),this.tableContainer.style.marginLeft=e.fixedContainer.offsetWidth+"px",e.fixedContainer.firstElementChild.style.marginBottom="100px",e.fixedContainer.style.height=this.tableContainer.offsetHeight+"px"),"function"==typeof e.loadingSet&&e.loadingSet(!1,e)}}},e}(window.zs||{});
//# sourceMappingURL=fixedColumns.min.js.map