!function(t){"use strict";t.progressBar={_max:null,_value:null,_label:null,_duration:null,_metrics:null,_animate:null,_norender:null,_defaults:{max:1,value:1,label:!1,animate:!1,duration:300,metrics:"%",norender:!1},_isRendered:null,_currentRequestAnimationFrame:null,_updateLabelWidthHandler:null,observedAttributes:["max","value","label","duration","metrics","animate","norender"],progressElm:null,labelElm:null,properties:{max:{set:function(t){(isNaN(t)||t<0)&&(t=this._defaults.max),this._checkAndUpdateAttrByProp("max",t),this._max=t},get:function(t){return this._max}},value:{set:function(t){isNaN(t)&&(t=this._defaults.value),this._checkAndUpdateAttrByProp("value",t),this._value=t},get:function(t){return this._value}},label:{set:function(t){this._checkAndUpdateAttrByProp("label",t),this._label=t},get:function(t){return this._label}},duration:{set:function(t){isNaN(t)&&(t=this._defaults.duration),this._checkAndUpdateAttrByProp("duration",t),this._duration=t},get:function(t){return this._duration}},metrics:{set:function(t){this._checkAndUpdateAttrByProp("metrics",t),this._metrics=t},get:function(t){return this._metrics}},animate:{set:function(t){this._checkAndUpdateAttrByProp("animate",t),this._animate=t},get:function(t){return this._animate}},norender:{set:function(t){this._checkAndUpdateAttrByProp("norender",t),this._norender=t},get:function(t){return this._norender}}},events:{create:function(){this._isRendered=!1},attach:function(){this._setDefaults(),this.render()},attributeChange:function(t){this._checkAndUpdatePropByAttr(t.detail.attributeName,t.detail.newValue)},detach:function(){this.cleanUp()}},_setDefaults:function(){for(var t in this.properties){var e=this._defaults[t];this.properties.hasOwnProperty(t)&&(null===this[t]&&this[t]!=e&&(this[t]=e))}return this},_checkAndUpdateAttrByProp:function(t,e){return e==this.getAttribute(t)||(this.setAttribute(t,e),this._isRendered&&"norender"!==t&&this.render()),this},_checkAndUpdatePropByAttr:function(t,e){return this.properties.hasOwnProperty(t)&&(""+this[t]==e||(this[t]=e,this._isRendered&&"norender"!==t&&this.render())),this},animationStep:function(t){if(this.progressElm){this._animationStartTime||(this._animationStartTime=t);var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,i=window.cancelAnimationFrame||window.mozCancelAnimationFrame,n=t-this._animationStartTime,r=n/this.duration,s=this.getBoundingClientRect().width,a=this.value/this.max*s;return this.progressElm.style.width=a*r/s*100+"%",this._currentRequestAnimationFrame&&(i(this._currentRequestAnimationFrame),this._currentRequestAnimationFrame=null),n<this.duration?(this._currentRequestAnimationFrame=e(this.animationStep.bind(this)),this):(this._animationStartTime=null,this.calculateAndSetWidth())}},cleanUp:function(){return this.progressElm=null,this.labelElm=null,window.removeEventListener("resize",this._updateLabelWidthHandler),this._updateLabelWidthHandler=null,""!=this.innerHTML&&(this.innerHTML=""),this},calculateAndSetWidth:function(){var t=Math.abs(100*parseFloat(this.value/this.max));return(isNaN(t)||t<0)&&(t=0),100<t&&(t=100),this.progressElm.style.width=t+"%",this},renderLabel:function(){return this.labelElm=document.createElement("div"),this.label&&(this.innerText=this.value+this.metrics,this.labelElm.innerText=this.value+this.metrics,this.progressElm.appendChild(this.labelElm),this._updateLabelWidthHandler=this.updateLabelWidth.bind(this),setTimeout(this._updateLabelWidthHandler,50),window.addEventListener("resize",this._updateLabelWidthHandler)),this},updateLabelWidth:function(){return this.progressElm&&(this.labelElm.style.width=this.getBoundingClientRect().width+"px"),this},render:function(){if(!this.norender)return this.cleanUp(),this.progressElm=document.createElement("div"),this.progressElm.style.width=0,this.renderLabel(),this.appendChild(this.progressElm),this.animate?window.requestAnimationFrame(this.animationStep.bind(this)):this.calculateAndSetWidth(),this._isRendered=!0,this}},t.progressBarElement=t.customElement(HTMLElement,"zs-progress-bar",null,[t.progressBar])}(window.zs||{});
//# sourceMappingURL=zsProgressBar.min.js.map