!function(a){"use strict";Number.isNaN=Number.isNaN||function(t){return"number"==typeof t&&t!=t};var t,o="zsSlider",r=0,h=((t=document.createElement("input")).setAttribute("type","range"),"text"!==t.type),l={multiple:!1,polyfill:!1,rangeMax:1/0,rangeMin:-1/0,base:null,orientation:"horizontal",rulerPosition:"top",rulerValues:null,startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],metric:"",prefix:"",trimZeros:!1},u={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};function d(t,i){var e=function(t){for(var i,e=[],s=t.parentNode;(i=s)&&(0===i.offsetWidth||0===i.offsetHeight||!1===i.open);)e.push(s),s=s.parentNode;return e}(t),s=e.length,n=[],o=t[i];function r(t){void 0!==t.open&&(t.open=!t.open)}if(s){for(var h=0;h<s;h++)n[h]=e[h].style.cssText,e[h].style.setProperty?e[h].style.setProperty("display","block","important"):e[h].style.cssText+=";display: block !important",e[h].style.height="0",e[h].style.overflow="hidden",e[h].style.visibility="hidden",r(e[h]);o=t[i];for(var a=0;a<s;a++)e[a].style.cssText=n[a],r(e[a])}return o}function p(t,i){var e=parseFloat(t);return Number.isNaN(e)?i:e}function m(t){return t.charAt(0).toUpperCase()+t.substr(1)}function c(t,i){if(this.$window=a(window),this.$document=a(document),this.$element=a(t),this.options=a.extend({},l,i),this.polyfill=this.options.polyfill,this.base=this.$element[0].getAttribute("base")||this.options.base,this.rangeMax=this.$element[0].getAttribute("range-max")||this.options.rangeMax,this.rangeMin=this.$element[0].getAttribute("range-min")||this.options.rangeMin,this.orientation=this.$element[0].getAttribute("orientation")||this.options.orientation,this.rulerPosition=this.$element[0].getAttribute("ruler-position")||this.options.rulerPosition,this.rulerValues=this.$element[0].getAttribute("ruler-values")||this.options.rulerValues,this.metric=this.$element[0].getAttribute("metric")||this.options.metric,this.prefix=this.$element[0].getAttribute("prefix")||this.options.prefix,this.trimZeros=this.$element[0].hasAttribute("trim-zeros")||this.options.trimZeros,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=u.orientation[this.orientation].dimension,this.DIRECTION=u.orientation[this.orientation].direction,this.DIRECTION_STYLE=u.orientation[this.orientation].directionStyle,this.COORDINATE=u.orientation[this.orientation].coordinate,this.multiple=!1,(this.$element[0].hasAttribute("multiple")||this.options.multiple)&&(this.multiple=!0),this.polyfill&&h)return this;this.identifier=o+"-"+r++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=a("<div fill />"),this.$handle=a(this.options.handleHtml||'<button class="zs-button" handle />'),this.$handle2=a(this.options.handle2Html||'<button class="zs-button" handle hh />'),this.$ruler=a("<div ruler />"),this.$container=a('<div class="zs-slider" '+this.orientation+' id="'+this.identifier+'"/>').append(this.$ruler).insertAfter(this.$element),this.$range=a("<div range />").prepend(this.$fill,this.$handle).prependTo(this.$container),this.rulerUnits={},this.$container.attr("ruler-position",this.rulerPosition),this.$currentHandle=this.$handle,this.multiple&&this.$handle2.appendTo(this.$range),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=a.proxy(this.handleDown,this),this.handleMove=a.proxy(this.handleMove,this),this.handleEnd=a.proxy(this.handleEnd,this),this.init();var e,s,n=this;return this.$window.on("resize."+this.identifier,(e=function(){!function(t,i){var e=Array.prototype.slice.call(arguments,2);setTimeout(function(){return t.apply(null,e)},i)}(function(){n.update(!1,!1)},300)},s=(s=20)||100,function(){if(!e.debouncing){var t=Array.prototype.slice.apply(arguments);e.lastReturnVal=e.apply(window,t),e.debouncing=!0}return clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout(function(){e.debouncing=!1},s),e.lastReturnVal})),this.$document.on(this.startEvent,"#"+this.identifier+":not([disabled])",this.handleDown),this.$element.on("change."+this.identifier,function(t,i){if(!i||i.origin!==n.identifier){var e=t.target.getAttribute("value");if(this.multiple)e=[p((e=e.split(";"))[0],Math.round(n.min+(n.max-n.min)/2)),p(e[1],Math.round(n.min+(n.max-n.min)/2))],n.$currentHandle=n.$handle,n.$currentGrabPos=n.grabPos,n.setPosition(n.getPositionFromValue(e[1])),n.$currentHandle=n.$handle2,n.$currentGrabPos=n.grabPos2,n.setPosition(n.getPositionFromValue(e[0]));else n.setPosition(n.getPositionFromValue(e))}}),this.$handle.on("click",function(t){t.preventDefault()}),this.$handle2.on("click",function(t){t.preventDefault()}),this}c.prototype.init=function(){return this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit(),this},c.prototype.update=function(t,i){if(t=t||!1,this.step=p(this.$element[0].getAttribute("step")),t)if(this.min=p(this.$element[0].getAttribute("min"),0),this.max=p(this.$element[0].getAttribute("max"),100),this.multiple){var e,s=p((e=this.$element[0].getAttribute("value")&&this.$element[0].getAttribute("value").split&&this.$element[0].getAttribute("value").split(";")[1]?this.$element[0].getAttribute("value").split(";"):[this.min,this.max])[0],Math.round(this.min+(this.max-this.min)/2)),n=p(e[1],Math.round(this.min+(this.max-this.min)/2));this.value=n<s?[n,s]:[s,n]}else this.value=p(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2));this.handleDimension=d(this.$handle[0],"offset"+m(this.DIMENSION)),this.rangeDimension=d(this.$range[0],"offset"+m(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.grabPos2=this.handleDimension/2,this.$element[0].disabled?this.$container.attr("disabled","disabled"):this.$container.attr("disabled",!1),this.getRulerRange(),this.minRangePosition=this.rulerUnits[this.rangeMin],this.maxRangePosition=this.rulerUnits[this.rangeMax];var o=1/0,r=-1/0;for(var h in this.rulerUnits)r<(h=+h)&&(r=h),h<o&&(o=h);return"vertical"===this.orientation?this.adjustVerticalFill(r,o):this.adjustHorizontalFill(r,o),this.base&&this.$fill.css({borderRadius:0}),this.multiple?(this.$currentHandle=this.$handle,this.$currentGrabPos=this.grabPos,this.setPosition(this.getPositionFromValue(this.value[1]),i),this.$currentHandle=this.$handle2,this.$currentGrabPos=this.grabPos2,this.setPosition(this.getPositionFromValue(this.value[0]),i)):(this.position=this.getPositionFromValue(this.value),this.$currentHandle=this.$handle,this.$currentGrabPos=this.grabPos,this.setPosition(this.position,i)),this.$handle.textContent=this.value,this},c.prototype.adjustHorizontalFill=function(t,i){this.maxRangePosition?this.maxRangePosition>=this.rulerUnits[t]?this.$fill.css({right:0,borderRadius:"0.3em"}):this.$fill.css({right:this.rulerUnits[t]-this.maxRangePosition+this.$handle.width()/3}):((!this.minRangePosition||this.rangeMin<=i)&&(this.minRangePosition=-1,this.$fill.css({borderRadius:"0.3em"})),this.$fill.css({left:this.minRangePosition}))},c.prototype.adjustVerticalFill=function(t,i){this.maxRangePosition?this.maxRangePosition>=this.rulerUnits[t]?this.$fill.css({top:0,borderRadius:"0.3em"}):this.$fill.css({top:this.rulerUnits[t]-this.maxRangePosition+this.$handle.height()/3}):((!this.minRangePosition||this.rangeMin<=i)&&(this.minRangePosition=-1,this.$fill.css({borderRadius:"0.3em"})),this.$fill.css({bottom:this.minRangePosition}))},c.prototype.handleDown=function(t){if(t.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),-1<(" "+t.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass))return this;this.chooseHandle(t);this.isMoving=!0;var i=this.getRelativePosition(t),e=this.$range[0].getBoundingClientRect()[this.DIRECTION],s=this.getPositionFromNode(this.$currentHandle[0])-e,n="vertical"===this.orientation?this.maxHandlePos-(i-this.$currentGrabPos):i-this.$currentGrabPos;return this.setPosition(n),s<=i&&i<s+this.handleDimension&&(this.$currentGrabPos=i-s),this},c.prototype.chooseHandle=function(t){var i=this.$handle,e=this.grabPos,s=Math.sqrt(Math.pow(t.pageX-this.$handle.offset().left,2)+Math.pow(t.pageY-this.$handle.offset().top,2)),n=Math.sqrt(Math.pow(t.pageX-this.$handle2.offset().left,2)+Math.pow(t.pageY-this.$handle2.offset().top,2));this.multiple&&n<s&&(i=this.$handle2,e=this.grabPos2),this.$currentHandle=i,this.$currentGrabPos=e},c.prototype.handleMove=function(t){t.preventDefault();var i=this.getRelativePosition(t),e="vertical"===this.orientation?this.maxHandlePos-(i-this.$currentGrabPos):i-this.$currentGrabPos;return this.setPosition(e),this},c.prototype.handleEnd=function(t){return t.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.isMoving=!1,this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.value),this},c.prototype.cap=function(t,i,e){return t<i?i:e<t?e:t},c.prototype.setPosition=function(t,i){var e,s;if(void 0===i&&(i=!0),e=this.getValueFromPosition(this.cap(t,0,this.maxHandlePos)),s=this.getPositionFromValue(e),e<this.rangeMin)return this;if(e>this.rangeMax)return this;var n=s+this.$currentGrabPos-this.minRangePosition;if(this.maxRangePosition&&(n=this.maxRangePosition-(s+this.$currentGrabPos)+this.$currentHandle.width()/3),n<0&&(n=0),this.multiple){var o=this.$currentHandle[0].style[this.DIRECTION_STYLE];this.$currentHandle[0].style[this.DIRECTION_STYLE]=s-1+"px";var r=parseFloat(this.$handle2[0].style[this.DIRECTION_STYLE]),h=parseFloat(this.$handle[0].style[this.DIRECTION_STYLE]);if(h<r&&this.isMoving)return this.$currentHandle[0].style[this.DIRECTION_STYLE]=o,this;n=r-h,this.$fill[0].style[this.DIRECTION_STYLE]=r+"px",this.$fill[0].style[this.DIMENSION]=Math.abs(n)+"px"}else this.base&&((n=s+this.$currentGrabPos-this.rulerUnits[this.base])<0?this.$fill.css(this.DIRECTION_STYLE,this.rulerUnits[this.base]+n+2):this.$fill.css(this.DIRECTION_STYLE,this.rulerUnits[this.base]+2)),this.$fill[0].style[this.DIMENSION]=Math.abs(n)+"px",this.$currentHandle[0].style[this.DIRECTION_STYLE]=s-1+"px";return this.multiple&&(e=this.$currentHandle===this.$handle2?[e,this.value[1]]:[this.value[0],e]),this.setValue(e),this.value=e,i&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(s,e),this},c.prototype.getPositionFromNode=function(t){for(var i=0;t;)i+=t.offsetLeft,t=t.offsetParent;return i},c.prototype.getRelativePosition=function(t){var i=m(this.COORDINATE),e=this.$range[0].getBoundingClientRect()[this.DIRECTION],s=0;return void 0!==t["client"+i]?s=t["client"+i]:void 0!==t.originalEvent["client"+i]?s=t.originalEvent["client"+i]:t.originalEvent.touches&&t.originalEvent.touches[0]&&void 0!==t.originalEvent.touches[0]["page"+i]?s=t.originalEvent.touches[0]["page"+i]-window["scroll"+i]:t.currentPoint&&void 0!==t.currentPoint[this.COORDINATE]&&(s=t.currentPoint[this.COORDINATE]),s-e},c.prototype.getPositionFromValue=function(t){var i;return i=(t-this.min)/(this.max-this.min),Number.isNaN(i)?0:i*this.maxHandlePos},c.prototype.getValueFromPosition=function(t){var i,e;return i=t/(this.maxHandlePos||1),e=this.step*Math.round(i*(this.max-this.min)/this.step)+this.min,Number(e.toFixed(this.toFixed))},c.prototype.setValue=function(t){return t===this.value&&""!==this.$element[0].value||(this.multiple&&(t=t.join(";")),this.$element[0].value=t,this.$element[0].setAttribute("value",t),this.$element.trigger("input",{origin:this.identifier})),this},c.prototype.getValue=function(){return this.value},c.prototype.destroy=function(){return this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("zsSlider_"+o),this.$handle.off(),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0]),this},c.prototype.getRulerRange=function(){var t,i=this.min,e=this.step;if(this.step||(this.step=1,e=parseFloat((this.max-this.min)/2)),e%1!=0){var s=(""+e).split(".")[1].length;i=i.toFixed(s)}for(this.rulerUnits={},this.$ruler.empty();i<=this.max;){if((t=a("<div />")).html(this.prefix+(this.trimZeros?parseFloat(i):i)+this.metric),"bottom"===this.rulerPosition||"right"===this.rulerPosition?t.prepend("<div />"):t.append("<div />"),this.rulerValues){var n=this.rulerValues.split(",");if(Array.isArray(n))for(var o=0;o<n.length;o++)if(parseFloat(n[o])==parseFloat(i)){this.$ruler.append(t);break}}else this.$ruler.append(t);var r=this.getPositionFromValue(i);if("vertical"==this.orientation?t.css({bottom:r,marginBottom:-1*t.height()/2}):t.css({left:r,marginLeft:-1*t.width()/2}),this.rulerUnits[i]=r+t.width()/3,e%1!=0){s=(""+e).split(".")[1].length;var h=Math.pow(10,s);i=((i*h+e*h)/h).toFixed(s)}else i+=e}return this},a.fn[o]=function(e){var s=a.isPlainObject(e)||!e?a.extend(!0,{},c.prototype.defaults,e):a.extend(!0,{},c.prototype.defaults),n=Array.prototype.slice.call(arguments,1);if(this!=a.fn)return this.each(function(){var t=a(this),i=t.data(o);i||t.data(o,i=new c(this,s)),"string"==typeof e&&i[e].apply(i,n)});a.extend(c.prototype,e)}}(jQuery);
//# sourceMappingURL=jquery.zsSlider.min.js.map