var zs=function(e){"use strict";return e.filter={selectContainer:null,selectEle:null,optionData:null,_label:null,_isRendered:null,_pluginRef:null,properties:{label:{set:function(e){this._label=String(e),this.getAttribute("label")!=String(this._label)&&(this.setAttribute("label",this._label),this._isRendered&&this.update())},get:function(){return this._label||""}}},_checkAndUpdatePropByAttr:function(e,t){return this.properties.hasOwnProperty(e)&&(""+this[e]==t||(this[e]=t,this._isRendered&&this.update())),this},setLabel:function(){var e=this.querySelector("[overlay]");e.innerHTML='<span></span><span class="zs-icon zs-icon-collapse zs-filter-icon"></span>',e.querySelector("span").textContent=this.label},changeLabel:function(e,t){if(0!=e.length){var n=this.querySelector("[overlay]");this.hasAttribute("single")?(n.innerHTML='<span></span><span class="zs-icon zs-icon-collapse zs-filter-icon"></span>',n.querySelector("span").textContent=""+e):1==e.length?(n.innerHTML='<span></span><span class="zs-icon zs-icon-collapse zs-filter-icon"></span>',n.querySelector("span").textContent=""+e.toString()):(n.innerHTML='<span></span><span class="zs-icon zs-icon-collapse zs-filter-icon"></span>',n.querySelector("span").textContent=e.length+" "+t)}else this.setLabel()},getOverlayHeight:function(){return this.querySelector("[overlay]").offsetHeight},getSelectedValue:function(){return this._pluginRef.$select.val()},clearAllSelection:function(){this._pluginRef.clearAllSelection()},renderDropdown:function(){this.selectContainer||(this.selectContainer=this.querySelector(".zs-select"),this.selectContainer||(this.selectContainer=document.createElement("div"),this.selectContainer.classList.add("zs-select"),this.appendChild(this.selectContainer)),this.selectEle||(this.selectEle=this.selectContainer.querySelector("select"),this.selectEle||(this.selectEle=document.createElement("select"),this.getAttribute("single")||this.selectEle.setAttribute("multiple",""),this.getOptions(),this.selectContainer.appendChild(this.selectEle))));var s=this,e=!0,t=!0,n=!1;this.hasAttribute("single")&&(t=e=!1),this.hasAttribute("selectall")&&(n=!0),$(this.selectContainer).find("select").zsSearchDropdown({multiple:e,addCheckboxes:t,addSelectAll:n,events:{change:function(){if(s._isRendered){var e=s.querySelector("[overlay]").innerHTML.split(",");1==e.length&&"Select value"==e[0]&&(e=[]),s.changeLabel(e,"Items selected");var t=s.getSelectedValue(),n=new CustomEvent("change");n.details={value:t||[],names:e||[]},s.dispatchEvent(n)}},open:function(){if(s._isRendered){s.querySelector(".zs-search-dropdown").style.top=s.getOverlayHeight()-1+"px",s.querySelector(".zs-search-dropdown").style.left="1px";var e=s.getSelectedValue(),t=new CustomEvent("open");t.details={value:e||[]},s.dispatchEvent(t)}},beforeOpen:function(){if(s._isRendered){s.querySelector(".zs-select").classList.add("zs-filter-open");var e=s.getSelectedValue(),t=new CustomEvent("beforeOpen");t.details={value:e||[]},s.dispatchEvent(t)}},beforeClose:function(){if(s._isRendered){s.querySelector(".zs-select").classList.remove("zs-filter-open");var e=s.getSelectedValue(),t=new CustomEvent("beforeClose");t.details={value:e||[]},s.dispatchEvent(t)}},close:function(){if(s._isRendered){var e=s.getSelectedValue(),t=new CustomEvent("close");t.details={value:e||[]},s.dispatchEvent(t)}}}}),this._pluginRef=$(this).find("select").data("zsSearchDropdown"),this.addEventListener("click",function(e){var t=s.querySelector("[overlay]");t&&t.contains(e.target)&&1==$(s).find(".zs-search-dropdown").is(":visible")&&(e.stopPropagation(),$(s).find("select").data("zsSearchDropdown").close())},!0),this.renderLabel()},renderLabel:function(){if(this._pluginRef.$select.val().length){var e=this._pluginRef.getOverlayText().split(",");this.changeLabel(e,"Items selected")}else this.setLabel()},getOptions:function(){for(var e=0;e<this.optionData.length;e++){var t=document.createElement("option");t.setAttribute("value",this.optionData[e].value),t.textContent=this.optionData[e].name,this.optionData[e].selected&&t.setAttribute("selected",""),this.optionData[e].disabled&&t.setAttribute("disabled",""),this.selectEle.appendChild(t)}},cleanup:function(){this.selectContainer=null,this.selectEle=null,this.innerHTML=""},update:function(){this.optionData?(this._isRendered=!1,this.cleanup(),this.render()):(this._pluginRef.update(),this.renderLabel())},render:function(){this.renderDropdown(),this._isRendered=!0},observedAttributes:["label"],events:{create:function(e){this._isRendered=!1},attach:function(e){this.render()},change:function(e){},attributeChange:function(e){this._checkAndUpdatePropByAttr(e.detail.attributeName,e.detail.newValue)},detach:function(e){this._pluginRef.destroy()}}},e.filterElement=e.customElement(HTMLElement,"zs-filter",null,[e.filter]),e}(window.zs||{});
//# sourceMappingURL=filter.min.js.map