!function(c){"use strict";var t={months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],value:new Date,firstDayOfWeek:0,readOnly:!0,minDate:new Date(1900,1,1),maxDate:new Date((new Date).getFullYear()+100,(new Date).getMonth(),(new Date).getDate()),stringToDate:function(t){return new Date(t)},dateToString:function(t){return t.toLocaleDateString("en-US").replace(/[^ -~]/g,"")},onHide:function(){},formatDay:function(t){return t.getDate()},onShow:function(){},onChange:function(){},$calendarContainer:null,flippable:!1,hideOnScroll:!1};function p(t){return!(!t||!t.length)}function i(t,e){this.$input=e,this.$anchor=e.siblings("a.zs-icon-calendar"),this.configure(t),this.render()}i.prototype.render=function(){var r=this;r.$container=c('<div class="zs-calendar" style="display:none"></div>'),r.options.$calendarContainer&&r.options.$calendarContainer.length?r.options.$calendarContainer.append(r.$container):r.$input.after(r.$container),this.buildCalendar(this.value),this.buildHeader(),this.$input.click(function(t){r.$container.is(":visible")?r.hide():(r.show(),r.options.flippable&&r.calculateFlipPosition())}),this.$input.change(function(t){r.$container.is(":visible")&&(r.getDate(),r.showCurrent()),"function"==typeof r.options.onChange&&r.options.onChange.apply(r)}),this.clickAnywhere=function(t){if(t.target!=r.$input[0])return t.target!==r.$anchor[0]||r.$container.is(":visible")?void(r.$container.is(":visible")&&(p(c(t.target).closest(".zs-calendar"))||r.hide())):(r.show(),void(r.options.flippable&&r.calculateFlipPosition()))},this.$input.prop("readonly",this.options.readOnly),this.$input.focus(function(){this.blur()}),c(document).on("click touchstart",this.clickAnywhere),this.isInViewPort=function(t){return t<c(window).scrollTop()+c(window).height()},this.calculateFlipPosition=function(){r.$container.outerWidth();var t,e=r.$container.outerHeight(),n=r.$input.offset(),i=c(document).scrollTop(),a=n.left-c("body").scrollLeft();if(r.$parentModal=r.$container.parents(".zs-modal"),t=this.isInViewPort(n.top+e)?n.top+r.$input.outerHeight()-i:n.top-e-i,r.$parentModal.length&&"none"!=r.$parentModal.css("transform")){var o=r.$parentModal.offset(),s=r.$parentModal[0].style.width;s?r.removeModalWidthOnHide=!1:(r.removeModalWidthOnHide=!0,s=r.$parentModal.css("width")),r.$parentModal.css({transform:"none",top:o.top-i+"px",left:o.left+"px",width:s}),r.removeModalStylesOnHide=!0}r.$container.css({position:"fixed",top:t+"px",left:a+"px"})},r.options.hideOnScroll&&c(document).on("mousewheel DOMMouseScroll scroll",function(t){r.$container[0].contains(t.target)||r.hide()})},i.prototype.setMonth=function(t){var e,n=this.displayDate.getFullYear();t<0?(t=11,n--):11<t&&(t=0,n++),e=new Date(n,t,1),this.displayDate.getMonth()==t&&this.displayDate.getFullYear()==n||this.buildCalendar(e),this.$container.find('select[name="month"]').val(t),this.$container.find('select[name="year"]').val(n)},i.prototype.formatDay=function(t){return"function"==typeof this.options.formatDay?this.options.formatDay(t):t.getDate()},i.prototype.buildHeader=function(){var t,e="",n=this;if(p(this.$container)){for(e="<header>",e+='<a href="javascript:void(0)" role="prev" class=""></a>',e+='<span><select name="year">',t=this.options.minDate.getFullYear();t<=this.options.maxDate.getFullYear();t++)e+='<option value="'+t+'"'+(t==this.displayDate.getFullYear()?'" selected':"")+">"+t+"</option>";for(e+="</select></span>",e+='<span><select name="month">',t=0;t<12;t++)e+='<option value="'+t+'"'+(t==this.displayDate.getMonth()?'" selected':"")+">"+this.options.months[t]+"</option>";e+="</select></span>",e+='<a href="javascript:void(0)" role="next"></a>',e+="</header>",this.$container.prepend(e),this.$container.find('[role="prev"]').click(function(t){n.setMonth(n.displayDate.getMonth()-1)}),this.$container.find('[role="next"]').click(function(t){n.setMonth(n.displayDate.getMonth()+1)}),this.$container.find('select[name="month"]').on("change",function(){var t,e;t=c(this).val(),n.displayDate.getFullYear(),n.displayDate.getMonth()!=t&&(e=new Date(n.displayDate.getFullYear(),t,1),n.buildCalendar(e))}),this.$container.find('select[name="year"]').on("change",function(){var t,e;t=c(this).val(),n.displayDate.getFullYear()!=t&&(e=new Date(t,n.displayDate.getMonth(),1),n.buildCalendar(e))})}},i.prototype.buildCalendar=function(t){var e,n,i="",a=this;if(p(this.$container)){this.displayDate=t,i="<tr>";var o=this.options.daysOfWeek.slice(0);if(this.options.firstDayOfWeek)for(var s=0;s<this.options.firstDayOfWeek;)o.push(o.shift()),s++;for(s=0;s<7;s++)i+="<th>"+o[s]+"</th>";i+="</tr><tr>";var r=(e=new Date(t.getFullYear(),t.getMonth(),1)).getMonth();n=0==(n=e.getDay())?-7:-n-7,n+=this.options.firstDayOfWeek%7,e.setDate(e.getDate()+n);var h=new Date(e);for(h.setDate(h.getDate()+6),e.getMonth()!=r&&h.getMonth()!=r&&e.setDate(e.getDate()+7),s=0;s<42;s++)s%7==0&&(i+="</tr><tr>"),i+='<td date="'+e.toString()+'"'+(e.getMonth()!=r?" notInMonth":"")+(e>this.options.maxDate||e<this.options.minDate?" disabled":"")+">"+this.formatDay(e)+"</td>",e.setDate(e.getDate()+1);i="<table>"+i+"</table>",this.$container.find("table").remove(),this.$container.append(i),this.showCurrent(),this.$container.find("td").click(function(t){var e=new Date(c(this).attr("date"));a.setDate(e)});var l=new Date(this.displayDate.getTime());l.setMonth(l.getMonth()+1),l.setDate(1),this.options.maxDate&&this.options.maxDate<l?this.$container.find('[role="next"]').attr("disabled","true"):this.$container.find('[role="next"]').removeAttr("disabled"),(l=new Date(this.displayDate.getTime())).setDate(-1),this.options.minDate&&this.options.minDate>l?this.$container.find('[role="prev"]').attr("disabled","true"):this.$container.find('[role="prev"]').removeAttr("disabled")}},i.prototype.setDate=function(t){this.value=t,this.$input.val(this.dateToString(t)),"function"==typeof this.options.onChange&&this.options.onChange.apply(this),this.showCurrent(),this.hide()},i.prototype.getDate=function(){var t=this.$input.val();this.value=t?this.stringToDate(t):this.options.value||new Date,this.$container.find('select[name="month"]').val(this.value.getMonth()),this.$container.find('select[name="year"]').val(this.value.getFullYear()),this.displayDate!=this.value&&this.buildCalendar(this.value)},i.prototype.hide=function(){if(this.$container.hide(),"function"==typeof this.options.onHide&&this.options.onHide.apply(this),this.removeModalStylesOnHide){var t={transform:"",top:"",left:""};self.removeModalWidthOnHide&&(t.width=""),this.$parentModal.css(t)}},i.prototype.show=function(){this.getDate(),this.displayDate!=this.value&&this.buildCalendar(this.value),this.$container.show(),"function"==typeof this.options.onShow&&this.options.onShow.apply(this)},i.prototype.stringToDate=function(t){return"function"==typeof this.options.stringToDate?this.options.stringToDate(t):new Date(t)},i.prototype.dateToString=function(t){return"function"==typeof this.options.dateToString?this.options.dateToString(t):t.toLocaleDateString("en-US")},i.prototype.showCurrent=function(){var t=new Date;t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.$container.find("td[today]").removeAttr("today"),this.$container.find('td[date="'+t.toString()+'"]').attr("today",""),this.$container.find("td[current]").removeAttr("current"),t=this.value,t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.$container.find('td[date="'+t.toString()+'"]').attr("current","")},i.prototype.configure=function(t){(this.options=t).value?this.value=new Date(t.value):this.value||(this.value=new Date)},i.prototype.destroy=function(){c(document).off("click",this.clickAnywhere),this.$input&&this.$input.removeData("zsDatePicker"),this.$container&&this.$container.remove()},i.prototype.setYear=function(t){var e=new Date(t,this.displayDate.getMonth(),1);e!=this.displayDate&&this.buildCalendar(e),this.$container.find('select[name="year"]').val(t)},i.prototype.defaults=t,c.fn.zsDatePicker=function(e){if(this!=c.fn){var n=c.isPlainObject(e)||!e?c.extend(!0,{},t,e):c.extend(!0,{},t);return this.each(function(){var t=c(this).data("zsDatePicker");if(t)if("string"==c.type(e))switch(e){case"show":c(this).select().focus(),t.show();break;case"hide":t.hide();break;case"destroy":t.destroy(c(this))}else t.configure(c.extend(!0,t.options,e));else"string"==c.type(e)||c(this).data("zsDatePicker",new i(n,c(this)))})}c.extend(i.prototype,e)}}(jQuery);
//# sourceMappingURL=jquery.zsDatePicker.min.js.map