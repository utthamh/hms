var zs=function(t){"use strict";return t.dateField={fieldContainer:null,daysOfWeek:null,minDate:null,maxDate:null,months:null,mode:null,stringToDate:function(e){return new Date(e)},dateToString:function(e){return e?isNaN(e)?e:e.toLocaleDateString("en-US").replace(/[^ -~]/g,""):""},renderField:function(){var i=this,e=null==this.getAttribute("view");this.fieldContainer||(this.fieldContainer=document.createElement("span")),!this.fieldElement&&e&&(this.fieldElement=document.createElement("input"),this.fieldElement.classList.add("zs-input"),t.pipeEvent("blur",this.fieldElement,this),t.pipeEvent("focus",this.fieldElement,this),"inline"==this.getAttribute("mode")&&this.fieldElement.addEventListener("change",function(e){e.stopPropagation();var t=this.value;i.changeDate(t)})),e?(this.fieldContainer.classList.add("zs-input-icon"),this.fieldContainer.classList.add("zs-icon-calendar")):(this.fieldContainer.classList.remove("zs-input-icon"),this.fieldContainer.classList.remove("zs-icon-calendar"),this.fieldElement&&($(this.fieldElement).zsDatePicker("destroy"),this.fieldElement.parentNode&&this.fieldElement.parentNode.removeChild(this.fieldElement),this.fieldElement=null)),this.fieldElement&&this.fieldContainer.appendChild(this.fieldElement),this.appendChild(this.fieldContainer),this.updateElements(),this.configurePlugin()},changeDate:function(e){var t=new CustomEvent("change",{bubbles:!1,detail:{newValue:e}});this.dispatchEvent(t)},updateElements:function(){null==this.getAttribute("view")?(this.fieldElement.setAttribute("value",this.value),this.fieldElement.value=this.value,this.fieldElement.dateValue=this._dateValue):this.fieldContainer.innerHTML=this.value},getValue:function(){return null==this._value?"":this._value},setValue:function(e){this._value="string"==typeof e?(this._dateValue=e?this.stringToDate(e):null,e):null==e?this._dateValue=e:(this._dateValue=new Date(e),this.dateToString(this._dateValue)),this._value!=this.getAttribute("value")&&this.setAttribute("value",this._value||"")},removePlugin:function(){$&&$(this.fieldElement).data("zsDatePicker")&&$(this.fieldElement).zsDatePicker("remove")},configurePlugin:function(){var i=this;null==this.getAttribute("view")&&"inline"!=this.getAttribute("mode")?$(function(){var e={onChange:function(){i.changeDate(this.value)}};i.daysOfWeek&&(e.daysOfWeek=i.daysOfWeek),i.minDate&&(e.minDate=i.minDate),i.maxDate&&(e.maxDate=i.maxDate),i.months&&(e.months=i.months),i.stringToDate&&(e.stringToDate=i.stringToDate),i.dateToString&&(e.dateToString=i.dateToString),$(i.fieldElement).zsDatePicker(e),i.querySelector('select[name="month"]').addEventListener("change",function(e){e.stopPropagation()}),i.querySelector('select[name="year"]').addEventListener("change",function(e){e.stopPropagation()});var t=new CustomEvent("configure");i.dispatchEvent(t)}):this.removePlugin()},observedAttributes:["view","mode","value"],events:{change:function(e){if(e.srcElement==this){this.value=e.detail.newValue,this.updateElements()}},clear:function(){var e=this;setTimeout(function(){e.changeDate(null)},0)},detach:function(){this.removePlugin()},attributeChange:function(e){var t=e.detail.attributeName;"view"!=t&&"mode"!=t&&"value"!=t||this.waitAndRender()}}},t.dateFieldElement=t.customElement(HTMLParagraphElement,"zs-date-field","p",[t.clear,t.validation,t.field,t.dateField]),t}(window.zs||{});$(function(){$.fn.zsDatePicker&&$.fn.zsDatePicker({getDate:function(){if(this.$input.dateValue)this.value=this.$input.dateValue;else{var e=this.$input.val();this.value=e?this.stringToDate(e):this.options.value||new Date}this.$container.find('select[name="month"]').val(this.value.getMonth()),this.$container.find('select[name="year"]').val(this.value.getFullYear()),this.displayDate!=this.value&&this.buildCalendar(this.value)}})});
//# sourceMappingURL=zsDateField.min.js.map