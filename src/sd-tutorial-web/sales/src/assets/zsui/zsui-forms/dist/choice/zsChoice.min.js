var zs=function(e){"use strict";return e.choice={delimeter:",",_labels:null,_values:null,renderRadio:function(e,t,i){var s=this,l=this.querySelector('span[name="'+e+'"]');l?(l.firstChild.setAttribute("name",s.getAttribute("name")),l.firstChild.setAttribute("value",e),(l.firstChild.checked=i)?l.setAttribute("class","zs-checkbox zs-active"):l.setAttribute("class","zs-checkbox"),l.querySelector("span").innerHTML=t):((l=document.createElement("span")).setAttribute("class","zs-checkbox"+(i?" zs-active":"")),l.setAttribute("name",e),l.innerHTML='<input type="radio" name="'+s.getAttribute("name")+'" value="'+e+'" '+(i?" checked":"")+"/><span>"+t+"</span>",this.appendChild(l),l.firstChild.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();e=new CustomEvent("click");this.parentNode.dispatchEvent(e)}),l.addEventListener("click",function(e){var t=this.firstChild.getAttribute("value"),i=new CustomEvent("change",{detail:{newValue:t}});s.dispatchEvent(i)}))},renderCheckbox:function(e,t,i){console.log("render checkbox",e,t,i);var r=this,s=this.querySelector('span[name="'+e+'"]');s?(s.firstChild.setAttribute("name",e),(s.firstChild.checked=i)?s.setAttribute("class","zs-checkbox zs-active"):s.setAttribute("class","zs-checkbox"),s.querySelector("span").innerHTML=t):((s=document.createElement("span")).setAttribute("class","zs-checkbox"+(i?" zs-active":"")),s.setAttribute("name",e),s.innerHTML='<input type="checkbox" name="'+e+'"'+(i?" checked":"")+" /><span>"+t+"</span>",this.appendChild(s),s.addEventListener("click",function(e){if(e.target!=this.firstChild){this.firstChild.checked;this.firstChild.checked=!this.firstChild.checked;var t=new CustomEvent("change");this.dispatchEvent(t)}}),s.addEventListener("change",function(e){var t=this.firstChild.getAttribute("name"),i=this.firstChild.checked,s=r.value&&r.value.split(r.delimeter)||[];if(console.log("option change",this,t,i),i)s.push(t);else{var l=s.indexOf(t);0<=l&&s.splice(l,1)}var n=s.join(r.delimeter);e.stopPropagation();var a=new CustomEvent("change",{detail:{newValue:n}});r.dispatchEvent(a)}))},renderField:function(){console.log("render field",this.getAttribute("value")),this.values&&this.labels&&this.values.length!=this.labels.length&&console.warn("Labels should match values");var e=this.value.split(this.delimeter),t=this.getAttribute("type");"radio"!=t&&"checkbox"!=t&&(t="checkbox");for(var i=0;i<this.values.length;i++){var s=0<=e.indexOf(this.values[i]);"checkbox"==t?this.renderCheckbox(this.values[i],this.labels[i],s):this.renderRadio(this.values[i],this.labels[i],s)}},events:{attributeChange:function(e){var t=e.detail.attributeName;"labels"==t&&(this.labels=this.getAttribute("labels")),"values"==t&&(this.values=this.getAttribute("values")),"limit"==t&&(this.limit=this.getAttribute("limit"))}},observedAttributes:["labels","values","limit"],properties:{labels:{set:function(e){var t;(t=null==e?e:e+"")!=this.getAttribute("labels")&&this.setAttribute("labels",t),this._labels=t.split(this.delimeter)},get:function(){return null==this._labels?"":this._labels}},values:{set:function(e){var t;(t=null==e?e:e+"")!=this.getAttribute("values")&&this.setAttribute("values",t),this._values=t.split(this.delimeter)},get:function(){return null==this._values?"":this._values}}}},e.choiceElement=e.customElement(HTMLElement,"zs-choice",null,[e.loading,e.field,e.choice]),e}(window.zs||{});
//# sourceMappingURL=zsChoice.min.js.map