!function(){function s(t,e){this.$container=e,this.configure(t),this.render()}s.prototype.defaults={autoOpen:!1,closeOnEscape:!0,submitOnEnter:"input[submit-on-enter]",autoFocus:"input[focus]",closeSelector:"[close]",submitSelector:">footer button",style:{position:"fixed",display:"none",top:"50%",left:"50%",marginTop:0,marginLeft:0,translateY:"-50%",translateX:"-50%"},render:{closeIcon:'<a href="javascript:void(0)" class="zs-icon zs-icon-close zs-icon-large" close></a>',header:function(){return"<header><span>"+this.options.title+"</span></header>"},overlay:'<div class="zs-overlay" style="display:none"></div>'},events:{submit:function(){this.close()},open:function(){},close:function(){}}},s.prototype.submitOnEnter=function(t){if(13==t.keyCode)return this.options.events.submit&&this.options.events.submit.apply(this),!1},s.prototype.configure=function(t){t&&(this.options=t)},s.prototype.renderOverlay=function(){this.$overlay||(this.$overlay=$("body>.zs-overlay"),this.$overlay.length||(this.$overlay=$(this.renderElement("overlay")),this.$overlay.appendTo($("body"))))},s.prototype.renderElement=function(t){return this.options.render&&this.options.render[t]?"function"==typeof this.options.render[t]?this.options.render[t].apply(this):this.options.render[t]:""},s.prototype.render=function(){this.renderOverlay(),this.$container.css(this.options.style),this.$header||(this.$header=this.$container.find(">header"),this.$header.length?this.$header.html("<span>"+this.$header.text()+"</span>"):(this.$header=$(this.renderElement("header")),this.$container.prepend(this.$header)),this.$title=this.$header.find(">span")),!this.$closeIcon&&this.options.closeSelector&&(this.$closeIcon=this.$header.find(this.options.closeSelector),this.$closeIcon.length||(this.$closeIcon=$(this.renderElement("closeIcon")),this.$header.append(this.$closeIcon))),this.closeBind||(this.closeBind=this.close.bind(this)),this.$container.find(this.options.closeSelector).click(this.closeBind),this.options.events.submit&&this.options.submitSelector&&this.$container.find(this.options.submitSelector).click(this.options.events.submit.bind(this)),this.options.submitOnEnter&&(this.submitOnEnterBind||(this.submitOnEnterBind=this.submitOnEnter.bind(this)),this.$container.find(this.options.submitOnEnter).bind("keyup.enter",this.submitOnEnterBind)),this.options.autoOpen&&this.open(),this.options.title&&this.$title.html(this.options.title)},s.prototype.close=function(){this.$overlay.hide(),this.closeBind&&this.$overlay.off("click",this.closeBind),this.$container.css("display","none"),this.escapeClickBind&&$(document).off("keyup",this.escapeClickBind),"function"==typeof this.options.events.close&&this.options.events.close.apply(this)},s.prototype.fixPosition=function(){8===document.documentMode&&(this.options.style.marginLeft=-1*this.$container.width()/2,this.options.style.marginTop=-1*this.$container.height()/2),this.$container.css({top:this.options.style.top,left:this.options.style.left,marginLeft:this.options.style.marginLeft,marginTop:this.options.style.marginTop,transform:"translate("+this.options.style.translateX+","+this.options.style.translateY+")"});var t=this.$container[0].getBoundingClientRect(),e=$(window).height(),i=$(window).width(),s=0<=t.top&&t.top<=e,o=0<=t.left&&t.left<=i,n=this.options.style.top,r=this.options.style.left,h=this.options.style.marginTop,a=this.options.style.marginLeft,l=this.options.style.translateY,p=this.options.style.translateX;s||(l=h=n=0),o||(p=a=r=0),s&&o||this.$container.css({top:n,left:r,marginTop:h,marginLeft:a,transform:"translate("+p+", "+l+")"})},s.prototype.open=function(){this.$overlay&&this.$overlay.length||this.renderOverlay(),this.$overlay.show(),this.$overlay.on("click",this.closeBind),this.$container.css("display","inline-block"),this.fixPosition();this.options.closeOnEscape&&(this.escapeClickBind||(this.escapeClickBind=this.escapeClick.bind(this)),$(document).on("keyup",this.escapeClickBind)),this.options.autoFocus&&this.$container.find(this.options.autoFocus).focus(),"function"==typeof this.options.events.open&&this.options.events.open.apply(this)},s.prototype.escapeClick=function(t){27==t.keyCode&&this.close()},s.prototype.destroy=function(){this.close(),this.$overlay.remove(),this.$container.removeData("zsModalDialog")},$.fn.zsModalDialog=function(e){var i=$.isPlainObject(e)||!e?$.extend(!0,{},s.prototype.defaults,e):$.extend(!0,{},s.prototype.defaults);if(this!=$.fn)return this.each(function(){var t=$(this).data("zsModalDialog");if(t)if("string"==typeof e)switch(e){case"open":t.open();break;case"close":t.close();break;case"destroy":t.destroy($(this));break;case"update":t.update()}else t.configure($.extend(!0,t.options,e)),t.render();else"string"==typeof e||$(this).data("zsModalDialog",new s(i,$(this)))});$.extend(s.prototype,e)}}(jQuery);
//# sourceMappingURL=jquery.zsModal.min.js.map