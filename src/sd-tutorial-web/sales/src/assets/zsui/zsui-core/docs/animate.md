# Documentation for Animation Module

Animation is a helper behaviour that helps to register and play animations. One can create simple to complex animations using this behaviour. These animations are based on [CSS Transitions](https://developer.mozilla.org/en-US/docs/Web/CSS/transition).

# Usage

We can register and apply a "slide" animation to a `<button>` element as follows:

-   Register 'slide' animation by specifying relevant [CSS transition](https://developer.mozilla.org/en-US/docs/Web/CSS/transition) properties as shown:

    ```javascript
      // Register slide animation
      zs.animation.registerTransition('slide', {
          before: {
              transitionProperty: 'transform',
              transitionTimingFunction: 'ease-in-out',
          },
          after: {
              transform: 'translateX(100%)'
          }
      });
    ```

-   Create a custom element to use register animation.

    ```javascript
    // <my-anim> element extends zs.animate behaviour to implement animation.
    var comp = zs.customElement(HTMLElement, 'my-anim', null, [zs.animate, {
       	events: {
    		beforeanimation: function (event) {
    			console.log('animation start', event.detail)
    		},
    		afteranimation: function (event) {
    			console.log('animation end', event.detail)
    		},
    		attach: function () {
    			var el = this;

    			Object.assign(el.style, { position: 'absolute' });

    			setTimeout(function () {
    				var btn = el.querySelector('button');

    				// Slide button on 'click' event.
    				btn.addEventListener('click', function () {
    					var effect = this.getAttribute("animation");

                        var event = new CustomEvent('beforeanimation', { detail: { effect: effect } });
    					el.dispatchEvent(event);

    					var options = {};

    					// Logic to slide left or right
    					if (effect == 'slide') {
    						if (!el.transformed) {
    							left = el.parentNode.clientWidth - el.clientWidth;
    							el.transformed = true;
    						} else {
    							left = 0;
    							el.transformed = false;
    						}
    						Object.assign(options, { transform: 'translateX(' + (left) + 'px)' });
    					}

    					el.startAnimation(effect, 500, options).then(function (animation) {
    						var event = new CustomEvent('afteranimation', { detail: { animation: animation } });
    						el.dispatchEvent(event);
    					})
    				});
    			}, 0);
    		}
    	}
    }])
    ```

-   Use `<my-anim>` element in the HTML and specify "animation" attribute to `<button>` as shown:
    ```HTML
    <div style="position:relative; overflow: hidden; min-height:150px;height:50vh;min-width:200px;width:50vw; border:1px solid #e1e9ef;">
        <my-anim style="top:0px;left:0px">
            <button animation="slide">Slide</button>
        </my-anim>
    </div>
    ```

# Examples

Visit our demo [page](https://ui.zsservices.com/demo/zsui/animation.html) to see live examples and detailed usage. 

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## animate

Animation behavior for ZSUI library

### animations

Hash-table with animations

### registerAnimation

-   **See: zs.animation**

Register an animation that can be reused multiple times

#### Parameters

-   `effectName` **[string][1]** Name of the effect to use like "slide", "rotate", etc...
-   `duration` **[number][2]** Duration of the animation in milliseconds
-   `options` **[object][3]** Additional parameters of the animation

Returns **[animation][4]** An instance of animation

### startAnimation

Start an animation

#### Parameters

-   `effectName` **[string][1]** Name of the previously created animation or a new one
-   `duration` **[number][2]?** Modified duration of the animation in milliseconds
-   `options` **[object][3]?** Modified parameters of the animation

Returns **[promise][5]** Promise of animation

## animate

Simple animation behavior based on CSS transitions

### animations

Hash-table with animations

### registerAnimation

-   **See: zs.animation**

Register an animation that can be reused multiple times

#### Parameters

-   `effectName` **[string][1]** Name of the effect to use like "slide", "rotate", etc...
-   `duration` **[number][2]** Duration of the animation in milliseconds
-   `options` **[object][3]** Additional parameters of the animation

Returns **[animation][4]** An instance of animation

### startAnimation

Start an animation

#### Parameters

-   `effectName` **[string][1]** Name of the previously created animation or a new one
-   `duration` **[number][2]?** Modified duration of the animation in milliseconds
-   `options` **[object][3]?** Modified parameters of the animation

Returns **[promise][5]** Promise of animation

## transition

Prototype of a transition. Based on CSS transitions

### Properties

-   `before` **[object][3]** Initial state of transition with CSS styles to be applied to an HTML element before transition starts
-   `after` **[object][3]** CSS styles with final state of transition
-   `reset` **[object][3]** CSS styles to be applied between transitions to reset them

## animation

Prototype of an animation.

### Properties

-   `effect` **[string][1]** Name of a transition
-   `duration` **[number][2]** Duration of the transition in milliseconds
-   `options` **[transition][6]** Transition properties @see zs.transition
-   `el` **[HTMLElement][7]** Target of transition
-   `isRunning` **[boolean][8]** Indicates if transition is in progress or not
-   `promise` **[promise][5]** Holds a promise to wait for while transition is in progress
-   `currentEffect` **[object][3]** Stores an object with properties of current transition @see zs.transition
-   `definedTransitions` **[object][3]** A collection of transition that could be defined and a reused

### registerTransition

-   **See: zs.transition**

Create and register a new transition

#### Parameters

-   `name` **[string][1]** Name of the transition
-   `params` **[object][3]** Properties of the transition object to create

### transition

-   **See: zs.transition**

Transition from initial to final state of an element

#### Parameters

-   `params` **[transition][6]?** Additional parameters of the transitions

### start

Start an animation

#### Parameters

-   `params` **[transition][6]?** Additional parameters of the transition
-   `duration` **[number][2]?** Modified duration of the transition

### stop

Stop a running animation

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[4]: #animation

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[6]: #transition

[7]: https://developer.mozilla.org/docs/Web/HTML/Element

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
