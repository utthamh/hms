# Smart Component

While building components we face similar challenges how to make it re-sable, accessible, performant. How to align it with our Design System and ZSUI library.

## Principles

-   [FIRST principle](https://addyosmani.com/first/)
-   [Custom Elements Best Practices](https://developers.google.com/web/fundamentals/web-components/best-practices)
-   [Golden Standard](https://github.com/webcomponents/gold-standard/wiki)

Following these principles every time is not always practical or possible so we should use a balanced and reasonable approach considering requirements we have for a particular use case.

## Patterns

We have developed a set of re-usable patterns you can use as a base for a new component.

-   [handle events](./handleEvent.md)
-   [sync properties and attributes](./syncProps.md)
-   [render optimization](./render.md)
-   [mixin](./mixin.md)

A set of various utils that help to build a smart custom element.

## Best Practices

## Styling

### Important to Adopt

-   [Presentable](https://github.com/webcomponents/gold-standard/wiki/Presentable) — If the component is instantiated with no explicit styling, is it reasonably attractive, such that someone could feel comfortable presenting it as is?

-   [Generic Styling](https://github.com/webcomponents/gold-standard/wiki/Generic-Styling) — Generally speaking, is the component’s default appearance straightforward and subdued?

-   [Size to Content](https://github.com/webcomponents/gold-standard/wiki/Size-to-Content) — Does the component automatically size itself to contain its content by default?

-   [Stretch to Fit](https://github.com/webcomponents/gold-standard/wiki/Stretch-to-Fit) — If you stretch the component (e.g., with absolute positioning or CSS flex), do its elements appropriately stretch as well?

-   [Responsive](https://github.com/webcomponents/gold-standard/wiki/Responsive) — Does the component scale well to standard mobile, tablet, and desktop screen sizes?

-   [Style Recalc](https://github.com/webcomponents/gold-standard/wiki/Size-Recalc) — Can you apply styles to a component instance even after it’s attached to the document?

-   [Size Recalc](https://github.com/webcomponents/gold-standard/wiki/Size-Recalc) — If the component manually positions any subelements relative to its own size, does it appropriately recalc these positions when its own size changes?

-   Color — Can you customize colors of a component? Provision of color customization facilitates **theming** of components. [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) (custom properties) can to used to achieve this as it would utilize native web platform to the fullest. Additionally, use of CSS custom properties would facilitate dynamic theming in modern browsers.

-   Size and space — Can you customize properties related to component's size and space? This includes properties like font-size, height, width, padding, margin, etc. Again, use of [CSS custom properties](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) can help to achieve the same.

### Nice to Adopt

-   [Redundant Color](https://github.com/webcomponents/gold-standard/wiki/Redundant-Color) — If the component uses color to communicate information, does it also provide the same information another way? [Accessibility](https://github.com/webcomponents/gold-standard/wiki#accessibility)

-   [Validation](https://css-tricks.com/stylelint/) — Do you validate styles applied to a component? Use of linting tools like [stylelint](https://github.com/stylelint/stylelint) can help to scan through the component styles and detect errors as well as enforce conventions in our styles.

-   [Compliance with latest standards](https://stateofcss.com/) — Does your component adopt latest industry standards? 
    You may additionally adopt futuristic or modern day [CSS4](https://www.w3.org/TR/selectors-4/) features and use PostCSS plugins to polyfill them for older browsers.

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## dashToCamelCase

Converts "dash-case" identifier (e.g. `foo-bar-baz`) to "camelCase"
(e.g. `fooBarBaz`).

### Parameters

-   `dash` **[string][1]** Dash-case identifier

Returns **[string][1]** Camel-case representation of the identifier

**Meta**

-   **deprecated**: Moved to smart component. Will be deleted in v4.0 by 2020

## camelToDashCase

Converts "camelCase" identifier (e.g. `fooBarBaz`) to "dash-case"
(e.g. `foo-bar-baz`).

### Parameters

-   `camel` **[string][1]** Camel-case identifier

Returns **[string][1]** Dash-case representation of the identifier

**Meta**

-   **deprecated**: Moved to smart component. Will be deleted in v4.0 by 2020

## syncPropAttr

This behavior implements a pattern to keep properties and attributes in sync. Uses getters and setters and works with observedAttributes.

Type: [object][2]

**Meta**

-   **deprecated**: Moved to smart component. Will be deleted in v4.0 by 2020

### propertyGet

Unify how we get and store a value for the property and enable overrides.

#### Parameters

-   `name` **[string][1]** Name of the property.

Returns **[string][1]** Property value

### propToAttrValue

Converts a value of a property to attribute value

#### Parameters

-   `value` **any** Property value

Returns **[string][1]** attribute value

### propertySet

Set a property value and optionally notify when value changes

#### Parameters

-   `name` **[string][1]** Name of the property to set
-   `newValue` **any** New value for the property
-   `onChange` **[function][3]?** Optional callback

### attrToPropName

Convert attribute name from dash case like "my-name" to property name in lower camel case like "myName".

#### Parameters

-   `attrName` **[string][1]** Property name

Returns **[string][1]** Property name

### propToAttrName

Convert property name from lower camel case like "myName" to attribute name in dash case like "my-name".

#### Parameters

-   `propName` **[string][1]** Property name

Returns **[string][1]** Attribute name

### syncAttr

Align a property value with changed attribute value

#### Parameters

-   `name` **[string][1]** Attribute name that was changed recently
-   `value` **[string][1]** New value of the attribute
-   `type` **[string][1]** Type of the property

### attrToPropValue

Convert an attribute value to property value

#### Parameters

-   `propName` **[string][1]** Name of the property
-   `value` **any** Value of the property
-   `type` **[string][1]?** Type of the property. Can be detected. 'string' by default.

### syncObservedAttr

-   **See: zs.addBehavior**

Set synchronization between properties and observed attributes.

#### Parameters

-   `params` **[object][2]** Use an object to specify which properties and attributes to synchronize. E.g. {'attr-name': {type: 'string', onChange: function(newValue, oldValue){}}}

### syncProp

Align a property value with an attribute value using getters and setters. Should be called once for each targeted property.

#### Parameters

-   `propName` **[string][1]** Name of the property.
-   `onChange` **[function][3]?** Callback to notify when changed.

## zs.smartRender

Help to handle rendering of elements between creating and attaching to the DOM. You can set "shouldRender" property after creating an element.

Type: [object][2]

**Meta**

-   **deprecated**: Moved to smart component. Will be deleted in v4.0 by 2020

## 

-   **See: zs.addBehavior**

Block an event. Use it as an event handler for addEventListener method or inside "events" object.

### Parameters

-   `e` **[object][2]** Event to block.

## shouldRender

Flag to trigger rendering of the element. Will render if the element is already attached to the DOM.

Type: [boolean][4]

## isAttached

Flag to detect if an element is attached to the DOM or not. Will call render if shouldRender flag is set.

Type: [boolean][4]

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
