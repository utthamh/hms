var zs=function(e){return(e=e||{}).subMenu=function(){var t=$(this).parent().parent(),o=t.find(">nav"),r=!1,e=t.find(">a").first(),n=!1;function a(e){r||!o[0].isExpanded||o[0]==e.target||$.contains(t[0],e.target)||$.contains(o[0],e.target)||u()}function i(){n||(n=!0,setTimeout(function(){n=!1},500))}function u(){o.hide(),t.removeClass("zs-selected"),$(document).off("click touchstart",a),o[0].isExpanded=!1,o[0].isDelayingCollapse=!1}function l(){if("function"==typeof t[0].getBoundingClientRect){var e=t[0].getBoundingClientRect(),n="";window.innerWidth/2>e.left+e.width/2&&(n="zs-to-left")}r=!0,t.addClass("zs-selected"),n?t.addClass("zs-to-left"):t.removeClass("zs-to-left"),$(document).on("click touchstart",a),o.show(),o[0].isExpanded=!0,o[0].isDelayingExpand=!1,setTimeout(function(){r=!1})}o.length&&(o[0].isDelayingExpand=!1,o[0].isDelayingCollapse=!1,o[0].isExpanded=!1,t.on("click",function(e){e.stopPropagation(),n||(o[0].isExpanded?u():l())}),e.click(function(e){e.preventDefault()}),t.on("mouseenter",function(){o[0].isDelayingCollapse&&(o[0].isDelayingCollapse=!1),o[0].isExpanded||o[0].isDelayingExpand||(o[0].isDelayingExpand=!0,i(),setTimeout(function(){o[0].isDelayingExpand&&l()},300))}),t.on("mouseleave",function(e){o[0].isDelayingExpand&&(o[0].isDelayingExpand=!1),o[0].isExpanded&&(o[0].isDelayingCollapse=!0,i(),setTimeout(function(){o[0].isDelayingCollapse&&(u(),o[0].isDelayingCollapse=!1)},300))}))},e}(zs),ZSLB=function(){var t,o,r,a="lbar-menu-on",i="lbar-menu-off",u="ontouchstart"in window,l=-1,s=null,n=!1;function c(){var e;t=$(".zs-user-bar"),o=$(".zs-app-message"),function(){if(t.find(">div>a>.zs-icon:first-child").each(zs.subMenu),o.length){r=o.find("a.zs-icon-rejected-approval");var n=o;r.click(function(e){n.hide()})}}(),(e=o.find(".non-prod-msg")).length&&(e.show(),o.show())}function d(e){var n=e.parentNode;if(n){var t=n.querySelector(".non-prod-msg");if(t){t.parentElement.removeChild(t);var o=document.querySelector(".zs-app-message");o&&(o.removeChild(o.children[0]),o.insertBefore(t,o.children[0]))}}var r=document.querySelector(".zs-user-bar");if(!r){(r=document.createElement("div")).className="zs-user-bar";var a=document.querySelector(".zs-header");if(a){var i=a.querySelector(".zs-brand-bar");i||((i=document.createElement("div")).className="zs-brand-bar",a.appendChild(i));var u=i.querySelector(".zs-row");u||((u=document.createElement("div")).className="zs-row",i.appendChild(u)),u.appendChild(r)}}var l=e.children[0],s=e.children[1];s.getElementsByTagName("nav")[0].children.length||s.setAttribute("disabled","disabled"),r.insertBefore(s,r.firstChild),r.insertBefore(l,s),c()}var m=function(e){if(e){var n=s;!n||e===s&&!u||(s.className=i,s=null),u&&n||((s=e).className=a),-1!==l&&(clearTimeout(l),l=-1)}},f=function(e){l=setTimeout(function(){s&&e!==s&&(s.className=i,s=null)},200)},p=function(){n=!0},v=function(){n=!1},h=function(){n=!1},y=function(e){var n=window.event||e;n.target||(n.target=n.srcElement);for(var t=n.target;t.className!==i&&t.className!==a&&t.parentNode;)t=t.parentNode;return t},g=function(e){n&&s&&(y(e)!==s&&(s.className=i,s=null))},b=function(){var e=document.getElementById("lbar-user-menu-link"),n=document.getElementById("lbar-user-menu-popup"),t=document.getElementById("lbar-app-menu-link"),o=document.getElementById("lbar-app-menu-popup"),r=document.getElementById("lbar-notifications-menu-link"),a=document.getElementById("lbar-notifications-menu-popup");if(u)e.onclick=function(e){m(y(e))},t&&(t.onclick=e.onclick),r&&(r.onclick=e.onclick),S(document,"touchstart",p),S(document,"touchmove",v),S(document,"touchcancel",h),S(document,"touchend",g);else{var i=function(e){m(y(e))};e.onmouseover=n.onmouseover=i,e.onmouseout=n.onmouseout=f,t&&o&&(t.onmouseover=o.onmouseover=i,t.onmouseout=o.onmouseout=f),r&&a&&(r.onmouseover=a.onmouseover=i,r.onmouseout=a.onmouseout=f)}},E=function(e){var n,t=window.location.hostname;try{n=e.location.hostname}catch(e){n=null}return n&&t.toLowerCase()==n.toLowerCase()},w=function(e){var n=e.href,t=e.target;if(""!==t)return window.open(n,t),!1;if(0!=top.frames.length){for(var o=window;o!=window.top&&E(o.parent);)o=o.parent;o.location.href=n}else window.location.href=n;return!1},C=function(){if(window.XMLHttpRequest)return new window.XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return null}},S=function(e,n,t){return e.addEventListener?(e.addEventListener(n,t,!1),!0):!!e.attachEvent&&e.attachEvent("on"+n,t)},z=function(e,n){var t,o,r=document.querySelector(".zs-user-bar"),a=document.querySelector(".zs-header"),i=!1,u=!0;e&&(a||r)||(u=!1,n&&(i=!0)),function(){var e=document.querySelector(".zs-user-bar ");if(e){var n=e.querySelector('[role="profile"]'),t=e.querySelector('[role="apps"]');n&&n.parentNode.removeChild(n),t&&t.parentNode.removeChild(t)}var o=document.querySelector("#lbr");o&&(o.innerHTML="")}(),u&&d(e),i&&(t=n,(o=document.querySelector("#lbr"))?(o.innerHTML=t.innerHTML,o.style.display="block"):((o=document.querySelector(".zs-header"))||(o=document.body),o.firstChild?o.insertBefore(t,o.firstChild):o.appendChild(t),t.style.display="block"),b())},L=function(e){if(4==e.readyState&&200==e.status){var n=document.createElement("div");n.setAttribute("id","temporaryLbrContainer"),n.setAttribute("style","display:none"),n.innerHTML=e.responseText;var t=n.querySelector("#zs-lbr"),o=n.querySelector("#lbr");z(t,o)}};return{enterMenu:m,exitMenu:f,menuTouchStart:p,menuTouchMove:v,menuTouchCancel:h,menuTouchEnd:g,onLoad:b,processEventTarget:y,LinkClick:function(e){var n=document.getElementById("lbl_"+e);return"undefined"!=typeof MasterModuleClickHandler?MasterModuleClickHandler()&&w(n):w(n)},ShouldJailbreakParent:E,NavigateTo:w,getXMLHttpRequest:C,addEvent:S,handleLaunchbarResponse:L,loadLaunchBar:function(t,o,r,a,i,u,l,s){function e(){var e=C();if(null!=e){e.open("POST",t,!0),e.onreadystatechange=function(){L(e)};var n="applicationId="+o+"&userId="+r+"&authenticatedUserId="+a+"&returnUrl="+i+"&logoutUrl="+u+"&locale="+l+"&isIdentityManager="+s;e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(n)}}var n=!1;document.onreadystatechange=function(){"interactive"===document.readyState?(n=!0,e()):"complete"===document.readyState&&(n||(e(),n=!0))}},registerZsEventHandlers:c,displayZsLaunchbar:d}}();"undefined"!=typeof module&&module.exports&&(global.ZSLB=ZSLB);
//# sourceMappingURL=launchbar.min.js.map