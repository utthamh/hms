!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof exports)i(exports);else{var e={exports:{}};i(e.exports),t.tooltipM=e.exports}}(this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={_animateShowWithDuration:null,_animateHideWithDuration:null,_arrowPosition:null,_for:null,_mode:null,_norender:null,_offsetX:null,_offsetY:null,_position:null,_anchor:null,_isHidden:null,_isStartedHidding:null,_isStartedShowing:null,_defaults:{"animate-show-with-duration":0,"animate-hide-with-duration":0,"arrow-position":"auto",for:"",mode:"auto",norender:!1,"offset-x":0,"offset-y":0,position:"bottom"},_isRendered:null,_availableArrowPositions:["auto","none","left","right","top","bottom"],_availablePositions:["auto","left","right","top","bottom"],_availableModes:["auto","manual"],observedAttributes:["animate-show-with-duration","animate-hide-with-duration","arrow-position","for","mode","norender","offset-x","offset-y","position"],_arrow:null,_onResize:null,_onScroll:null,properties:{"animate-show-with-duration":{set:function(t){(isNaN(t)||t<0)&&(t=this._defaults["animate-show-with-duration"]),this._checkAndUpdateAttrByProp("animate-show-with-duration",t),this._animateShowWithDuration=+t},get:function(t){return this._animateShowWithDuration}},"animate-hide-with-duration":{set:function(t){(isNaN(t)||t<0)&&(t=this._defaults["animate-hide-with-duration"]),this._checkAndUpdateAttrByProp("animate-hide-with-duration",t),this._animateHideWithDuration=+t},get:function(t){return this._animateHideWithDuration}},"arrow-position":{set:function(t){this._availableArrowPositions.indexOf(t)<0&&(t=this._defaults["arrow-position"]),this._checkAndUpdateAttrByProp("arrow-position",t),this._arrowPosition=t},get:function(t){return this._arrowPosition}},for:{set:function(t){t&&document.getElementById(t)||(t=this._defaults.for),this._checkAndUpdateAttrByProp("for",t),this._for=t},get:function(t){return this._for}},mode:{set:function(t){this._availableModes.indexOf(t)<0&&(t=this._defaults.mode),this._checkAndUpdateAttrByProp("mode",t),this._mode=t},get:function(t){return this._mode}},norender:{set:function(t){this._checkAndUpdateAttrByProp("norender",t),"string"==typeof t&&(t="false"!=t),this._norender=t},get:function(t){return this._norender}},"offset-x":{set:function(t){(isNaN(t)||t<0)&&(t=this._defaults["offset-x"]),this._checkAndUpdateAttrByProp("offset-x",t),this._offsetX=t},get:function(t){return this._offsetX}},"offset-y":{set:function(t){(isNaN(t)||t<0)&&(t=this._defaults["offset-y"]),this._checkAndUpdateAttrByProp("offset-y",t),this._offsetY=t},get:function(t){return this._offsetY}},position:{set:function(t){this._availablePositions.indexOf(t)<0&&(t=this._defaults.position),this._checkAndUpdateAttrByProp("position",t),this._position=t},get:function(t){return this._position}},anchor:{get:function(t){return this._anchor}},isHidden:{get:function(t){return this._isHidden}}},events:{create:function(){this._isRendered=!1,this._onScroll=this._anchorDeactivated.bind(this),this._onResize=this._prepare.bind(this)},attach:function(){var t=this;setTimeout(function(){t._setDefaults(),t.render()},0)},attributeChange:function(t){this._checkAndUpdatePropByAttr(t.detail.attributeName,t.detail.newValue)},detach:function(){this.cleanUp()}},_setDefaults:function(){for(var t in this.properties){var i=this._defaults[t];this.properties.hasOwnProperty(t)&&(null===this[t]&&this[t]!=i&&(this[t]=i))}return this},_checkAndUpdateAttrByProp:function(t,i){return i==this.getAttribute(t)?this:(this.setAttribute(t,i),this._isRendered&&"norender"!==t&&this.render(),this)},_checkAndUpdatePropByAttr:function(t,i){return this.properties.hasOwnProperty(t)?""+this[t]==i?this:(this[t]=i,this._isRendered&&"norender"!==t&&this.render(),this):this},cleanUp:function(){return zs.domHelper.empty(this),this._arrow&&(this._arrow.parentNode&&this._arrow.parentNode.removeChild(this._arrow),this._arrow=null),window.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._onResize),this},show:function(){this.dispatchEvent(new CustomEvent("beforeshow")),this._isStartedShowing=!0,this._isStartedHidding=!1,this.style.visibility="visible";return this.style.transition="none",this["animate-show-with-duration"]>0?(this.style.transition="opacity "+(this["animate-show-with-duration"]/1e3).toFixed(2)+"s",this.style.opacity=1):this._finalizeAfterShowHide(),this._positioning(),this},hide:function(){return this.dispatchEvent(new CustomEvent("beforehide")),this._isStartedShowing=!1,this._isStartedHidding=!0,this.style.transition="none",this["animate-hide-with-duration"]>0?(this.style.transition="opacity "+(this["animate-hide-with-duration"]/1e3).toFixed(2)+"s",this.style.opacity=0):this._finalizeAfterShowHide(),this},setContent:function(t){var i=this.querySelector("zs-tooltip-content");i||(i=document.createElement("zs-tooltip-content"),this.appendChild(i)),i.innerHTML=t},getContent:function(){var t=this.querySelector("zs-tooltip-content");return t||(t=document.createElement("zs-tooltip-content"),this.appendChild(t)),t.innerHTML},destroy:function(){return this.dispatchEvent(new CustomEvent("beforedestroy")),this.cleanUp(),this.parentNode.removeChild(this),this.dispatchEvent(new CustomEvent("destroy")),this},_anchorActivated:function(t){return"auto"!=this.mode?this:(this.show(),this)},_anchorDeactivated:function(t){return"auto"!=this.mode?this:this.isHidden?this:(this.hide(),this)},_defineAnchor:function(){if(this.anchor)return this;if(!this.for)return this._anchor=this.parentNode||document.body,this;var t=document.getElementById(this.for);return t instanceof HTMLElement?(this._anchor=t,this):(console.warn('zsTooltip: Cannot find element by selector specified in "for". Fallback to parent node instead'),this._anchor=this.parentNode||document.body,this)},_addListeners:function(){var t=this;return t.clicked=!1,this.anchor.addEventListener("click",function(i){t.isHidden&&t._anchorActivated(i)}),this.anchor.addEventListener("mouseenter",function(i){t._anchorActivated(i)}),this.anchor.addEventListener("mouseleave",function(i){t._anchorDeactivated(i)}),document.addEventListener("touchend",function(i){t.isHidden||t._isStartedShowing||t._isStartedHidding||t._anchorDeactivated(i)}),this},_prepareArrow:function(){var t=this["arrow-position"];if("none"===t)return this;var i=document.createElement("zs-tooltip-arrow");switch(this.appendChild(i),t){case"left":i.classList.add("left");break;case"top":i.classList.add("top");break;case"right":i.classList.add("right");break;case"bottom":i.classList.add("bottom")}return this._arrow=i,this},_positioning:function(){if(!(this.anchor.offsetHeight<=0&&this.anchor.offsetWidth<=0)){var t=this.getBoundingClientRect(),i=this.anchor.getBoundingClientRect();this.style.width=t.width+"px";t.top,t.bottom,t.left,t.right;var e=i.top,n=i.bottom,s=i.left,o=i.right,r=+this["offset-y"],h=+this["offset-x"];this.style.top="auto",this.style.bottom="auto",this.style.right="auto",this.style.left="auto",this.classList.remove("top"),this.classList.remove("bottom"),this.classList.remove("right"),this.classList.remove("left");var a=s+i.width/2,d=e+i.height/2,l=this.position;switch(l){case"top":this.style.top=e-t.height-r+"px",this.style.left=a-t.width/2+"px",this.classList.add("top");break;case"bottom":this.style.top=n+r+"px",this.style.left=a-t.width/2+"px",this.classList.add("bottom");break;case"left":this.style.left=s-t.width-h+"px",this.style.top=d-t.height/2+"px",this.classList.add("left");break;case"right":this.style.left=o+h+"px",this.style.top=d-t.height/2+"px",this.classList.add("right")}var c=this.getBoundingClientRect(),u=c.width;"right"!==l&&c.right>window.innerWidth?(u=c.width-2*(c.right-window.innerWidth)-10,this.style.width=u+"px",this._positioning()):"left"!==l&&c.left<0&&(u=c.width+2*c.left-10,this.style.width=u+"px",this._positioning())}},_whenAnimationFinished:function(t){return"opacity"!==t.propertyName?this:this._finalizeAfterShowHide()},_finalizeAfterShowHide:function(){return this._isStartedHidding?(this._isHidden=!0,this._isStartedHidding=!1,this.style.visibility="hidden",this.style.opacity=0,this.dispatchEvent(new CustomEvent("hide"))):(this._isHidden=!1,this._isStartedShowing=!1,this.style.visibility="visible",this.style.opacity=1,this.dispatchEvent(new CustomEvent("show"))),this},_prepare:function(){this.style.width="auto",this._positioning()},render:function(){if(!this.norender){this.dispatchEvent(new CustomEvent("beforerender"));var t="";return t=this.querySelector("zs-tooltip-content")?this.querySelector("zs-tooltip-content").innerHTML:this.innerHTML,this.cleanUp(),this.appendChild(document.createElement("zs-tooltip-content")),this.setContent(t),this._defineAnchor(),this._addListeners(),this._prepareArrow(),this._prepare(),this._isHidden=!0,this.style.visibility="hidden",window.addEventListener("scroll",this._onScroll),window.addEventListener("resize",this._onResize),this.addEventListener("transitionend",this._whenAnimationFinished.bind(this),!1),this.dispatchEvent(new CustomEvent("render")),this}}},e=zs.customElement(HTMLElement,"zs-tooltip",null,[i,zs.animate]);window.zs=window.zs||{},window.zs.tooltip=i,window.zs.tooltipElement=e;var n={tooltip:i,tooltipElement:e};t.default=n});
//# sourceMappingURL=tooltip.min.js.map